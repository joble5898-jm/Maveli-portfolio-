 <!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maaveli's Royal Portfolio</title>
    <header>
  <img src="images/logo.png" alt="Maveli Logo" class="logo">
</header>
<script 
src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IM+Fell+English:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    <style>
<img src="images/logo.png" alt="A regal portrait of the King.">
.logo {
  width: 150px;   /* change size as needed */
  height: auto;
}
        /* Global Styles */
        :root {
            --bg-start: #112a14;
            --bg-end: #2a112a;
            --text-color: #d8c4b2; /* Lighter gold */
            --card-bg: rgba(29, 13, 29, 0.5); /* Dark purple transparent */
            --card-border: rgba(216, 196, 178, 0.3); /* Lighter gold transparent */
            --button-bg: #e59c11; /* Amber */
            --button-hover: #b47a0d; /* Darker Amber */
            --accent-color: #d8c4b2;
            --chat-bg: #122b13;
            --chat-bot-msg: #2e4d41;
        }

        .cosmic-mode {
            --bg-start: #0b0f26;
            --bg-end: #1a2035;
            --text-color: #d1d9e2;
            --card-bg: rgba(26, 32, 53, 0.6);
            --card-border: rgba(209, 217, 226, 0.3);
            --button-bg: #6366f1; /* Indigo */
            --button-hover: #4338ca; /* Darker Indigo */
            --accent-color: #818cf8; /* Light blue-violet */
            --chat-bg: #2a2c42;
            --chat-bot-msg: #3f456c;
        }
        
        body {
            font-family: 'IM Fell English', serif;
            background: linear-gradient(to bottom, var(--bg-start), var(--bg-end));
            color: var(--text-color);
            overflow-x: hidden;
            transition: background 0.5s ease-in-out, color 0.5s ease-in-out;
        }

        /* Optimized Fade-in-up effect for sections on scroll */
        .fade-in-up {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            will-change: opacity, transform;
        }
        .fade-in-up.visible {
            opacity: 1;
            transform: translateY(0);
        }
        

        /* Text shadow to simulate old ink */
        h1, h2, h3 {
            text-shadow: 1.5px 1.5px 2px rgba(0, 0, 0, 0.3);
        }
        .cosmic-mode h1, .cosmic-mode h2, .cosmic-mode h3, .cosmic-mode p, .cosmic-mode a, .cosmic-mode li, .cosmic-mode button, .cosmic-mode input, .cosmic-mode textarea {
            text-shadow: none;
        }
        
        /* Flower animation */
        @keyframes flower-fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            100% { transform: translateY(calc(100vh + 100px)) rotate(360deg); opacity: 0; }
        }

        .flower {
            position: fixed;
            font-size: 20px;
            pointer-events: none;
            z-index: 0;
            animation: flower-fall linear infinite;
        }

        /* Slideshow navigation buttons */
        .prev, .next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            padding: 1rem;
            color: white;
            font-weight: bold;
            font-size: 1.5rem;
            transition: 0.3s;
            border-radius: 0.5rem;
            user-select: none;
            background-color: rgba(0, 0, 0, 0.4);
        }
        .next { right: 1rem; }
        .prev { left: 1rem; }
        .prev:hover, .next:hover { background-color: rgba(0, 0, 0, 0.8); }

        /* Chatbot and Translator sidebar */
        .chat-sidebar, .translator-sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background-color: var(--chat-bg);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
            transition: right 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
            z-index: 50;
            display: flex;
            flex-direction: column;
        }
        .chat-sidebar.open, .translator-sidebar.open { right: 0; }

        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
             padding: 0.75rem 1rem;
             border-radius: 0.5rem;
             max-width: 80%;
             word-wrap: break-word;
        }

        .message.bot {
            background-color: var(--chat-bot-msg);
            color: var(--text-color);
            align-self: flex-start;
            border-bottom-left-radius: 0rem;
        }
        .message.user {
             background-color: var(--button-bg);
             color: white;
             align-self: flex-end;
             border-bottom-right-radius: 0rem;
        }
        
        .cosmic-mode .chat-sidebar, .cosmic-mode .translator-sidebar { background-color: #1a2035; box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1); }
        .cosmic-mode .message.bot { background-color: #3f456c; color: var(--text-color); }
        .cosmic-mode .message.user { background-color: var(--button-bg); }
        
        .message.new {
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Aura Animation */
        .hero-aura {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        .hero-aura::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, var(--accent-color) 0%, transparent 70%);
            animation: pulse 4s infinite ease-in-out;
            opacity: 0.15;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(0.9); opacity: 0.1; }
            50% { transform: scale(1.1); opacity: 0.2; }
        }

        /* Glassmorphism Cards */
        .glass-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
        }
        .cosmic-mode .glass-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
        }

        .citation {
            font-size: 0.75rem;
            color: #a0a0a0;
            margin-top: 0.5rem;
        }
        
        .cosmic-mode .citation {
            color: #b0b8c6;
        }
        
        .click-effect {
            position: absolute;
            font-size: 20px;
            pointer-events: none;
            z-index: 99;
            transform: translate(-50%, -50%);
            animation: burst 1s forwards;
            opacity: 0;
        }

        @keyframes burst {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }
        }

        .loading-animation {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #fff;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        
        .cosmic-mode .loading-animation {
            border-color: rgba(209, 217, 226, 0.3);
            border-top-color: #d1d9e2;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hamburger-menu {
            position: fixed;
            top: 0;
            left: -100%;
            width: 100%;
            max-width: 300px;
            height: 100vh;
            background-color: var(--chat-bg);
            box-shadow: 5px 0 15px rgba(0, 0, 0, 0.3);
            transition: left 0.4s ease-in-out;
            z-index: 60;
            display: flex;
            flex-direction: column;
            padding: 2rem;
            box-sizing: border-box;
        }

        .hamburger-menu.open {
            left: 0;
        }
        
        .cosmic-mode .hamburger-menu { background-color: #1a2035; }
        
        .menu-link {
            padding: 0.75rem 1rem;
            text-decoration: none;
            color: var(--text-color);
            font-size: 1.25rem;
            font-weight: 700;
            border-radius: 0.5rem;
            transition: background-color 0.3s ease;
            border-bottom: 1px solid rgba(46, 77, 65, 0.3);
        }

        .menu-link:hover {
            background-color: var(--card-bg);
        }
        .cosmic-mode .menu-link { border-bottom: 1px solid rgba(209, 217, 226, 0.1); }

        /* Continuous Slideshow styles */
        .continuous-slideshow-container {
            overflow: hidden;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }
        .continuous-slideshow-track {
            display: flex;
            width: 200%; /* Changed for a 2-set loop */
            animation: scroll 30s linear infinite;
        }
        .continuous-slideshow-slide {
            flex: 0 0 calc(100% / 3); /* Display 3 slides at a time */
            padding: 0.5rem;
        }

        @keyframes scroll {
            0% { transform: translateX(0%); }
            100% { transform: translateX(-50%); }
        }
        
        /* New animations for chat toggle button */
        @keyframes subtle-pulse {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px var(--button-bg)); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 15px var(--button-bg)); }
        }
        
        .chat-toggle-btn {
            animation: subtle-pulse 2s ease-in-out infinite;
            transition: transform 0.2s ease-in-out, opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
        }
        
        /* New animations for translator toggle button */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .translator-toggle-btn {
            animation: float 3s ease-in-out infinite;
            transition: transform 0.2s ease-in-out;
        }
        
        /* Dark/Light Mode Toggle */
        .theme-toggle-btn {
            background: none;
            border: none;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .theme-toggle-btn:hover {
            transform: scale(1.1);
        }
        .theme-toggle-btn svg {
            transition: transform 0.5s ease-in-out;
        }
        .cosmic-mode .theme-toggle-btn svg {
            transform: rotate(180deg);
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 70;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal.open {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 1.5rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            position: relative;
            color: var(--text-color);
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }
        .modal.open .modal-content {
            transform: scale(1);
        }

        .cosmic-mode .modal-content {
            background-color: #1a2035;
            color: #d1d9e2;
        }
        .cosmic-mode input, .cosmic-mode textarea, .cosmic-mode .chat-input {
            color: #d1d9e2 !important;
            background-color: #2a2c42;
            border-color: #3f456c;
        }
        
        .chatbot-icon {
            width: 50px; 
            height: 50px;
        }

        /* Tic-Tac-Toe Game Styles */
        #tic-tac-toe-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            width: 300px;
            height: 300px;
            margin: 20px auto;
            transition: pointer-events 0.3s ease;
        }
        .cell {
            background: var(--chat-bot-msg);
            border: 2px solid var(--card-border);
            border-radius: 0.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .cell:hover {
            background: var(--card-bg);
        }
        .cosmic-mode .cell {
             background: var(--chat-bot-msg);
             border-color: var(--card-border);
        }
        .cosmic-mode .cell:hover {
            background: var(--card-bg);
        }

        /* Boat Race Styles */
        #race-track {
             background-image: linear-gradient(to right, #1e3a8a, #3b82f6);
        }
        .cosmic-mode #race-track {
             background-image: linear-gradient(to right, #1e1b4b, #4338ca);
        }
        .boat {
            position: absolute;
            left: 10px;
            font-size: 2.5rem;
            transition-property: left;
            transition-timing-function: cubic-bezier(0.6, -0.28, 0.735, 0.045); /* ease-in-back */
        }
        .boat.racing {
            left: calc(100% - 60px);
        }


    </style>
</head>
<body class="bg-[#112a14] text-amber-100">

    <!-- Cosmic Light Canvas -->
    <canvas id="cosmic-canvas" class="fixed top-0 left-0 w-full h-full -z-10"></canvas>

    <!-- Flower Container (fixed position for animation) -->
    <div id="flower-container" class="fixed top-0 left-0 w-full h-full pointer-events-none z-0 overflow-hidden"></div>

    <!-- Header Section -->
    <header class="bg-gradient-to-r from-[var(--bg-start)] to-[var(--bg-end)] shadow-lg text-white py-12 px-6 text-center rounded-b-3xl relative z-10 overflow-hidden">
        <div class="hero-aura"></div>
        <!-- Buttons Container -->
        <div class="absolute top-6 left-6 z-20">
            <button id="hamburger-btn" class="p-2 rounded-full bg-[#1d0d1d] bg-opacity-50 text-white hover:bg-opacity-80 transition-colors">
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
        <div class="absolute top-6 right-6 z-20 flex space-x-2">
            <!-- New Theme Toggle Button -->
            <button id="theme-toggle-btn" class="theme-toggle-btn p-2 rounded-full bg-[#1d0d1d] bg-opacity-50 text-white hover:bg-opacity-80 transition-colors">
                   <svg id="theme-icon" class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
            </button>
        </div>
        <!-- Maaveli's Logo -->
        <div class="mb-4 relative z-10">
             <img src="https://firebasestorage.googleapis.com/v0/b/app-maaveli-s-royal-portfoli-169c9.appspot.com/o/1000006025.jpg?alt=media&token=8cd55754-bf51-4ea2-99b7-9ee5706afb87" alt="Maaveli's Royal Logo" class="mx-auto w-24 h-24 rounded-full border-4 border-amber-300 shadow-xl">
        </div>
        <h1 class="text-5xl md:text-6xl font-extrabold tracking-tight relative z-10">Maaveli's Royal Portfolio</h1>
        <p class="mt-4 text-xl md:text-2xl font-light relative z-10">Monarch of the Golden Age, Hero of the Three Worlds</p>
    </header>

    <!-- Main Content Container with bottom padding for fixed buttons -->
    <main class="container mx-auto px-4 py-8 md:py-16 relative z-10 pb-40">
        <!-- About Me Section -->
        <section id="about" class="fade-in-up glass-card p-8 md:p-12 mb-12 flex flex-col md:flex-row items-center justify-center space-y-6 md:space-y-0 md:space-x-12">
            <div class="w-full md:w-1/2 flex justify-center">
                <img src="https://source.unsplash.com/600x600/?king-mahabali" alt="A regal portrait of the King." class="w-full h-auto rounded-3xl border-4 border-amber-300 shadow-xl transition-transform hover:scale-105">
            </div>
            <div class="w-full md:w-1/2 flex flex-col items-center">
                <h2 class="text-3xl md:text-4xl font-bold text-amber-300 mb-6">About the King</h2>
                <p id="about-text" class="text-lg leading-relaxed text-amber-200">
                    Hailed as the most generous and just ruler to ever grace the earth, my reign over Kerala was an era of unparalleled prosperity. Under my watch, my kingdom knew no want, no deceit, and no sorrow. Every door was an open door, every heart was content. While my tale is one of divine intervention and a journey to the netherworld, my annual return for Onam proves that true leadership is a bond that transcends dimensions. My motto? "Serve the people, and the people will forever serve you... a delicious feast!"
                </p>
                 <div class="flex justify-center mt-6">
                    <button id="tts-button" class="px-6 py-2 bg-amber-700 text-white font-semibold rounded-full hover:bg-amber-800 transition-colors">✨ Majesty in Words✨</button>
                    <div id="tts-loading" class="mt-2 hidden ml-4">
                        <div class="loading-animation"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Heroic Deeds Section -->
        <section id="deeds" class="fade-in-up mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-amber-300 mb-6 text-center">Heroic Deeds</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="glass-card p-6 transform transition-transform hover:scale-105">
                    <h3 class="text-xl font-semibold text-amber-100 mb-2">The Golden Reign</h3>
                    <p class="text-amber-200">Established an era of perfect harmony, where all were equal, and poverty was a forgotten word. No thieves, no lies, just pure golden goodness.</p>
                </div>
                <div class="glass-card p-6 transform transition-transform hover:scale-105">
                    <h3 class="text-xl font-semibold text-amber-100 mb-2">The Ultimate Sacrifice</h3>
                    <p class="text-amber-200">Honored a promise to Va